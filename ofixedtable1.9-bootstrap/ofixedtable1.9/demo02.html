<!doctype html>
<html>
<head>
	<meta charset="UTF-8">
	<title>Document</title>	
	<style type="text/css">
	body{margin: 10px;}
	</style>
	<script type="text/javascript" src="ofixedtable.js"></script>
	<style type="text/css">
		.tblist{border-collapse:collapse;}
		.tblist td{border:solid 1px #99bbe8; text-align:center; padding:10px !important;}
	</style>
</head>
<body>
	<div style="width:500px;height:300px;overflow:auto;">
	<table id="tb1" cellpadding="0px" cellspacing="0" class="tblist" width="100%">
	<thead>
		<tr>
			<td rowspan="2"><input type="checkbox" checked="checked" /></td>
			<td rowspan="2">序号</td>
			<td>标题1</td>
			<td>标题2</td>
			<td>标题3</td>
			<td>标题4</td>
			<td>标题5</td>
		</tr>
		<tr>
			<td>标题1</td>
			<td>标题2</td>
			<td>标题3</td>
			<td>标题4</td>
			<td>标题5</td>
		</tr>
	</thead>
		<tr>
			<td><input type="checkbox" id="chb1" name="chb" /></td>
			<td>1</td>
			<td>内容1</td>
			<td>内容2</td>
			<td>内容3</td>
			<td>内容4</td>
			<td>内容5</td>
		</tr>
		<tr>
			<td><input type="checkbox" id="chb2" name="chb" /></td>
			<td>2</td>
			<td>内容1</td>
			<td>内容2</td>
			<td>内容3</td>
			<td>内容4</td>
			<td>内容5</td>
		</tr>
		<tr>
			<td><input type="checkbox" disabled="disabled" name="chb" /></td>
			<td>3</td>
			<td>内容1</td>
			<td>内容2</td>
			<td>内容3</td>
			<td>内容4</td>
			<td>内容5</td>
		</tr>
		<tr>
			<td><input type="checkbox" name="chb" /></td>
			<td>4</td>
			<td>内容1</td>
			<td>内容2</td>
			<td>内容3</td>
			<td>内容4</td>
			<td>内容5</td>
		</tr>
		<tr>
			<td><input type="checkbox" onchange="alert('这是原始的change事件5');" name="chb" /></td>
			<td>5</td>
			<td>内容1</td>
			<td>内容2</td>
			<td>内容3</td>
			<td>内容4</td>
			<td>内容5</td>
		</tr>
		<tr>
			<td><input type="checkbox" value="666" onchange="alert('这是原始的change事件6');alert(this.value);" /></td>
			<td>6</td>
			<td>内容1</td>
			<td>内容2</td>
			<td>内容3</td>
			<td>内容4</td>
			<td>内容5</td>
		</tr>
		<tr>
			<td><input type="checkbox" value="7" onchange="showDemo(this);" /></td>
			<td>7</td>
			<td>内容1</td>
			<td>内容2</td>
			<td>内容3</td>
			<td>内容4</td>
			<td>内容5</td>
		</tr>
		<tr>
			<td><input type="checkbox" /></td>
			<td>8</td>
			<td>内容1</td>
			<td>内容2</td>
			<td>内容3</td>
			<td>内容4</td>
			<td>内容5</td>
		</tr>
		<tr>
			<td><input type="checkbox" /></td>
			<td>9</td>
			<td>内容1</td>
			<td>内容2</td>
			<td>内容3</td>
			<td>内容4</td>
			<td>内容5</td>
		</tr>
		<tr>
			<td><input type="checkbox" /></td>
			<td>10</td>
			<td>内容1</td>
			<td>内容2</td>
			<td>内容3</td>
			<td>内容4</td>
			<td>内容5</td>
		</tr>
		<tr>
			<td><input type="checkbox" /></td>
			<td>11</td>
			<td>内容1</td>
			<td>内容2</td>
			<td>内容3</td>
			<td>内容4</td>
			<td>内容5</td>
		</tr>
		<tr>
			<td><input type="checkbox" /></td>
			<td>12</td>
			<td>内容1</td>
			<td>内容2</td>
			<td>内容3</td>
			<td>内容4</td>
			<td>内容5</td>
		</tr>
		<tr>
			<td><input type="checkbox" /></td>
			<td>13</td>
			<td>内容1</td>
			<td>内容2</td>
			<td>内容3</td>
			<td>内容4</td>
			<td>内容5</td>
		</tr>
		<tr>
			<td><input type="checkbox" /></td>
			<td>14</td>
			<td>内容1</td>
			<td>内容2</td>
			<td>内容3</td>
			<td>内容4</td>
			<td>内容5</td>
		</tr>
		<tr>
			<td><input type="checkbox" /></td>
			<td>15</td>
			<td>内容1</td>
			<td>内容2</td>
			<td>内容3</td>
			<td>内容4</td>
			<td>内容5</td>
		</tr>
		<tr>
			<td><input type="checkbox" /></td>
			<td>16</td>
			<td>内容1</td>
			<td>内容2</td>
			<td>内容3</td>
			<td>内容4</td>
			<td>内容5</td>
		</tr>
		<tr>
			<td><input type="checkbox" /></td>
			<td>17</td>
			<td>内容1</td>
			<td>内容2</td>
			<td>内容3</td>
			<td>内容4</td>
			<td>内容5</td>
		</tr>
		<tr>
			<td><input type="checkbox" /></td>
			<td>18</td>
			<td>内容1</td>
			<td>内容2</td>
			<td>内容3</td>
			<td>内容4</td>
			<td>内容5</td>
		</tr>
		<tr>
			<td><input type="checkbox" /></td>
			<td>19</td>
			<td>内容1</td>
			<td>内容2</td>
			<td>内容3</td>
			<td>内容4</td>
			<td>内容5</td>
		</tr>
		<tr>
			<td><input type="checkbox" /></td>
			<td>20</td>
			<td>内容1</td>
			<td>内容2</td>
			<td>内容3</td>
			<td>内容4</td>
			<td>内容5</td>
		</tr>
	</table>
	</div>
	<br />
	要选中的复选框的行号：
	<input type="text" id="txtRowIndex" style="width:50px;" maxlength="3" />
	<input type="button" onclick="setChecked(true);" value="选中" />
	<input type="button" onclick="setChecked(false);" value="取消选中" />
	
	<input type="button" onclick="getChecked();" value="获取选中的复选框" style="margin-left:30px;" />
</body>
</html>
<script type="text/javascript">
	function showDemo(obj){
		alert('[showDemo] id: ' + obj.id + ', value: ' + obj.value);
	}

	function test(){
		var tb = document.getElementById('tb1');
		var arr = tb.getElementsByTagName('input');
		var chb = null;

		for(var i=0; i<arr.length; i++){
			var obj = arr[i];
			//console.log(obj.type);
			chb = arr[i];
			
			chb.onclick = function(e){
				alert(this.parentNode.parentNode.rowIndex + 1);
			};
		}
		ofix1 = new oFixedTable('ofix1', document.getElementById('tb1'), {
			rows:2, cols:2, splitLineColor:'#f00', background:'#dfe8f6', showSplitLine:false, borderWidth: '1px'
		});
	}

	window.setTimeout(function(){
		test();
	}, 2000);

	function getChecked(){
		var tb = document.getElementById('tb1');
		var arr = tb.getElementsByTagName('input');

		console.log('tb', tb.innerHTML);

		for(var i=0; i<arr.length; i++){
			var obj = arr[i];
			if(obj.checked){
				alert('选中： 第 ' + (obj.parentNode.parentNode.rowIndex + 1) + ' 行的复选框');
			}
		}
	}

	function setChecked(isCheck){
		var i = document.getElementById('txtRowIndex').value || -1;
		if(i < 0) {
			return false;
		}
		
		var tb = document.getElementById('tb1');
		var arr = tb.getElementsByTagName('input');
		if(arr[i] != null){
			arr[i].checked = isCheck;
		}
		if(typeof ofix1 != 'undefined'){
			//同步复选框
			ofix1.setCheckBoxSync(arr[i]);
		}
	}
</script>